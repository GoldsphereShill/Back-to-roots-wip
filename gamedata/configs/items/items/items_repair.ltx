
;;----=========================================================
;;----=====================| Repair Kits |=====================
;;----=========================================================

;;-- Tronex (base mod), Chymo (major changes)
;; DEFINES:
;; repair_type 							(item type for repair tools. When this type is specified for repair_only in a repair kit, it can be repair this item)
;; repair_part_bonus	 	            (Amount bonus to add_condition if parts are used)

;; repair_tool                          (If set to true, this item will be used as a repair tool)
;; repair_min_condition 	            (Min required condition to use)
;; repair_max_condition 	            (Max required condition to use)
;; repair_add_condition 	            (Amount of condition added to repaired item)
;; repair_use_parts	 	                (If set to true, allows the use of parts (2nd window) to add overall bonus to repair)
;; repair_only				            (type of items that can be repaired by this kit)
;; repair_parts_match					(If set to true, parts identical to the item can be used in repair)
;; repair_parts_sections                (items that can be used as repair parts to add overall bonus to repair)
;; repair_parts_type                 	(type of items that can be used as repair parts to add overall bonus to repair, defined by repair_type)
;; repair_use_actor_effects             (Uses actor_effects script. Setup a *_dummy section for the item in actor_effects_data.script)
;; repair_parts_multi					(nultiplier for repair bonus coming from support parts)

;; workshop_tool                    	(If set to true, this item will be used as a workshop repair tool for parts replacements and upgrades)
;; workshop_support						(type of items that can be dealt with at the workshop using this kit)

;;----==============================================< TECHNICAL >=================================================
[tch_repair]:booster_multi	;;-- (technical) for usable kits
$spawn 				                               = "devices\repair_kit_10"
kind			                                   = i_repair
can_trade			                               = true
quest_item      	                               = false
script_binding 							 	       = bind_item.bind
use_condition                            	       = true
remove_after_use                                   = false
repair_tool                                        = true

[tch_repair0]:identity_immunities	;;-- (technical) for unusual kits
GroupControlSection                                = spawn_group 
discovery_dependency                               = 
$spawn                                             = "food and drugs\harmonica_a"
kind			                                   = i_repair
class 									           = II_ATTCH
cform									           = skeleton
visual					 					       = dynamics\repair\cleaning_kit_r7.ogf
attach_angle_offset                                = 0.000000, -1.204452, -1.262921 
attach_position_offset                             = 0.081856, -0.035081, 0.011694 
attach_bone_name                                   = bip01_l_hand 
auto_attach                                        = false 

;;----==============================================< Sharpening stones >=================================================

[sharpening_stones]:tch_repair ;;--x4
$spawn 				                               = "devices\repair_kit_10"
description			                               = st_sharpening_stones_descr
inv_name			                               = st_sharpening_stones
inv_name_short			                           = st_sharpening_stones
cost				                               = 1860
inv_weight			                               = 0.276
empty_weight			                           = 0.06
visual				                               = dynamics\repair\sharpening_stones.ogf
inv_grid_width			                           = 1
inv_grid_height			                           = 1
inv_grid_x			                               = 0
inv_grid_y			                               = 55
upgr_icon_path								       = ui\actor_items\ui_actor_items_1
upgr_icon_x								 	       = 400
upgr_icon_y								 	       = 100
upgr_icon_width						 	 	       = 150
upgr_icon_height						 	       = 100
max_uses								           = 4
repair_min_condition 	                           = 0.10		
repair_max_condition 	                           = 0.99		
repair_add_condition 	                           = 0.21		
repair_part_bonus	 	                           = 0.11		
repair_use_parts	 	                           = true		
repair_only				                           = knife
repair_parts_sections                              = powder_poltergeist, kerosene
repair_use_actor_effects                           = true
tier                                               = 3

;;----==============================================< Lubricants and solvents >=================================================

[gun_oil]:tch_repair ;;-- Universal gun spray lubricant ;;--x2
$spawn 				                               = "devices\repair_kit_10"
description			                               = st_gun_oil_descr
inv_name			                               = st_gun_oil
inv_name_short			                           = st_gun_oil
cost				                               = 1830
inv_weight			                               = 0.248
empty_weight			                           = 0.048
visual				                               = dynamics\repair\gun_oil.ogf
inv_grid_width			                           = 1
inv_grid_height			                           = 1
inv_grid_x			                               = 1
inv_grid_y			                               = 55
upgr_icon_path								       = ui\actor_items\ui_actor_items_1
upgr_icon_x								 	       = 400
upgr_icon_y								 	       = 200
upgr_icon_width						 	 	       = 150
upgr_icon_height						 	       = 100
max_uses								           = 2
repair_min_condition 	                           = 0.85		
repair_max_condition 	                           = 0.99		
repair_add_condition 	                           = 0.05		
repair_part_bonus	 	                           = 0.05		
repair_use_parts	 	                           = true		
repair_only				                           = pistol, shotgun, rifle_5, rifle_7
repair_parts_sections                              = prt_o_fabrics_1, prt_o_fabrics_3, prt_o_fabrics_4, gun_oil, csky_patch, dolg_patch, ecolog_patch, freedom_patch, stalker_patch, bandit_patch, monolith_patch, army_patch, killer_patch, renegade_patch, isg_patch, greh_patch,  tarpaulin, prt_i_paper, journal, cutlery, swiss_knife, picture_woman			;;--Add sections of items to include to be considered repair parts
repair_use_actor_effects                           = true
tier                                               = 2

;;----==============================================<Gun repair kits >=================================================



[toolkit_s]:tch_repair ;;--Shotgun toolkit with replacement partst ;;--x10
$spawn 				                               = "devices\repair_kit_10"
description			                               = st_repair_kit_s_descr
inv_name			                               = st_repair_kit_s
inv_name_short			                           = st_repair_kit_s
cost				                               = 17660
inv_weight			                               = 3.216
empty_weight			                           = 1.216
visual				                               = dynamics\repair\toolkit_s.ogf
inv_grid_width		                               = 2
inv_grid_height		                               = 1
inv_grid_x			                               = 2
inv_grid_y			                               = 56
max_uses								           = 10

repair_min_condition 	                           = 0.08		
repair_max_condition 	                           = 0.99		
repair_add_condition 	                           = 0.1		
repair_part_bonus	 	                           = 0.1		
repair_use_parts	 	                           = true	
repair_only				                           = shotgun, pistol, rifle_5, rifle_7
repair_parts_sections	                           = swiss_knife, solvent, gun_oil, cleaning_kit_s, kerosene, explo_jerrycan_fuel, explo_jerrycan_fuel_empty, explo_balon_gas, explo_balon_gas_empty, flask, mineral_water, vodka, vodka2, vodka_quality, bottle_metal, mutant_part_flesh_meat, mutant_part_boar_chop, mutant_part_dog_meat, mutant_part_psevdodog_meat, mutant_part_krovosos_meat, mutant_part_chimera_meat
repair_use_actor_effects                           = true 
workshop_tool						 		       = true
workshop_support                                   = shotgun, pistol, rifle_5, rifle_7
tier                                               = 4

;;----=====================| Repair Kits (Outfit) |=====================
;;----==================================================================


;;----==============================================< Glues >=================================================

[glue_a]:tch_repair ;;-- (Advanced glue) ;;--x2
$spawn 				                               = "devices\repair_kit_10"
description			                               = st_glue_a_descr
inv_name			                               = st_glue_a
inv_name_short			                           = st_glue_a
cost				                               = 2468
inv_weight			                               = 0.167
empty_weight			                           = 0.095
visual				                               = dynamics\repair\glue_a.ogf
inv_grid_width			                           = 1
inv_grid_height			                           = 1
inv_grid_x			                               = 1
inv_grid_y			                               = 57
max_uses								           = 2
repair_min_condition 	                           = 0.70		
repair_max_condition 	                           = 0.99		
repair_add_condition 	                           = 0.04		
repair_part_bonus	 	                           = 0.04		
repair_use_parts	 	                           = true		
repair_only				                           = helmet, helmet_light, outfit, outfit_novice, outfit_light, outfit_medium, outfit_heavy, outfit_exo
repair_parts_sections	                           = swiss_knife, sewing_kit_a, glue_a, af_kevlar, armor_repair_fa, prt_o_fabrics_1, prt_o_fabrics_3, prt_o_fabrics_4, survival_kit, csky_patch, dolg_patch, ecolog_patch, freedom_patch, stalker_patch, bandit_patch, monolith_patch, army_patch, killer_patch, renegade_patch, isg_patch, greh_patch
repair_use_actor_effects                           = true
tier                                               = 2


;;----==============================================< Repair kits >=================================================

[armor_repair_fa]:tch_repair ;;-- (First aid armor repair set (Textile residues and duct tape)) ;;--x2
$spawn 				                               = "devices\repair_kit_10"
description			                               = st_armor_repair_fa_descr
inv_name			                               = st_armor_repair_fa
inv_name_short			                           = st_armor_repair_fa
cost				                               = 1872
inv_weight			                               = 0.346
empty_weight			                           = 0.173
visual				                               = dynamics\repair\armor_repair_fa.ogf
inv_grid_width			                           = 1
inv_grid_height			                           = 1
inv_grid_x			                               = 3
inv_grid_y			                               = 57
upgr_icon_path								       = ui\actor_items\ui_actor_items_1
upgr_icon_x								 	       = 400
upgr_icon_y								 	       = 1350
upgr_icon_width						 	 	       = 150
upgr_icon_height						 	       = 100
max_uses								           = 2
repair_min_condition 	                           = 0.85		
repair_max_condition 	                           = 0.99		
repair_add_condition 	                           = 0.06		
repair_part_bonus	 	                           = 0.06		
repair_use_parts	 	                           = true		
repair_only				                           = helmet, helmet_light, outfit, outfit_novice, outfit_light, outfit_medium, outfit_heavy, outfit_exo
repair_parts_sections	                           = swiss_knife, sewing_kit_a, glue_a, prt_o_fabrics_1, prt_o_fabrics_3, prt_o_fabrics_4, survival_kit, csky_patch, dolg_patch, ecolog_patch, freedom_patch, stalker_patch, bandit_patch, monolith_patch, army_patch, killer_patch, renegade_patch, isg_patch, greh_patch
repair_use_actor_effects                           = true
tier                                               = 2

;;----==============================================< Sewing kits >=================================================

[sewing_kit_a]:tch_repair ;;-- (Advanced sewing kit) ;;--x4
$spawn 				                               = "devices\repair_kit_10"
description			                               = st_sewing_kit_a_descr
inv_name			                               = st_sewing_kit_a
inv_name_short			                           = st_sewing_kit_a
cost				                               = 8576
inv_weight			                               = 0.437
empty_weight			                           = 0.221
visual				                               = dynamics\repair\sewing_kit_a.ogf
inv_grid_width			                           = 1
inv_grid_height			                           = 1
inv_grid_x			                               = 5
inv_grid_y			                               = 57
upgr_icon_path								       = ui\actor_items\ui_actor_items_1
upgr_icon_x								 	       = 400
upgr_icon_y								 	       = 1100
upgr_icon_width						 	 	       = 150
upgr_icon_height						 	       = 100
max_uses								           = 3
repair_min_condition 	                           = 0.3		
repair_max_condition 	                           = 0.99		
repair_add_condition 	                           = 0.08		
repair_part_bonus	 	                           = 0	
repair_use_parts	 	                           = false		
repair_only				                           = helmet, helmet_light, outfit, outfit_novice, outfit_light, outfit_medium, outfit_heavy, outfit_exo
repair_parts_sections	                           = none
repair_use_actor_effects                           = true
tier                                               = 4

;;----===============================================================================================

[helmet_repair_kit]:tch_repair ;;--x3
$spawn 				                               = "devices\repair_kit_10"
description			                               = st_helmet_repair_kit_descr
inv_name			                               = st_helmet_repair_kit
inv_name_short			                           = st_helmet_repair_kit
cost				                               = 8820
inv_weight			                               = 1.642
empty_weight			                           = 0.742
visual				                               = dynamics\repair\helmet_repair.ogf
inv_grid_width		                               = 2
inv_grid_height		                               = 1
inv_grid_x			                               = 0
inv_grid_y			                               = 58
max_uses								           = 6

repair_min_condition 	                           = 0.20		
repair_max_condition 	                           = 0.99		
repair_add_condition 	                           = 0.15		
repair_part_bonus	 	                           = 0.1		
repair_use_parts	 	                           = true		
repair_only				                           = helmet, helmet_light
repair_parts_sections	                           = af_aam, af_aac, af_iam, af_cooler, af_surge, af_grid, af_frames, swiss_knife, sewing_kit_a, glue_a, explo_jerrycan_fuel_empty, explo_balon_gas, explo_balon_gas_empty
repair_use_actor_effects                           = true
workshop_tool						 		       = true
workshop_support                                   = helmet, helmet_light, lens
tier                                               = 4

;;----===============================================================================================

[medium_repair_kit]:tch_repair ;;--x4
$spawn 							                   = "devices\repair_kit_10"
description						                   = st_medium_repair_kit_descr
inv_name						                   = st_medium_repair_kit
inv_name_short					                   = st_medium_repair_kit
cost							                   = 17360
inv_weight						                   = 2.484
empty_weight						               = 0.569
visual							                   = dynamics\repair\armor_repair_pro.ogf
inv_grid_width					                   = 2
inv_grid_height					                   = 2
inv_grid_x         				                   = 6
inv_grid_y         				                   = 58
max_uses								           = 6

repair_min_condition 			                   = 0.1	
repair_max_condition 			                   = 0.99		
repair_add_condition 			                   = 0.1		
repair_part_bonus	 			                   = 0.1		
repair_use_parts	 			                   = true	
repair_only				                           = outfit, outfit_light, outfit_medium, outfit_heavy, helmet, helmet_light
repair_parts_sections			                   = swiss_knife, rope, synthrope, prt_o_fabrics_1, prt_o_fabrics_3, prt_o_fabrics_4, af_kevlar, af_plates, csky_patch, dolg_patch, ecolog_patch, freedom_patch, stalker_patch, dolg_novice_outfit_worn, bandit_patch, monolith_patch, army_patch, killer_patch, renegade_patch, isg_patch, greh_patch, tarpaulin, beadspread
repair_use_actor_effects 		                   = true      
workshop_tool						 		       = true
workshop_support                                   = outfit_novice, outfit, outfit_light, outfit_medium, outfit_heavy
tier                                               = 4

;;----===============================================================================================

[exo_repair_kit]:tch_repair ;;--x6
$spawn 							                   = "devices\repair_kit_10"
description						                   = st_exo_repair_kit_descr
inv_name						                   = st_exo_repair_kit
inv_name_short					                   = st_exo_repair_kit
cost							                   = 25360
inv_weight						                   = 16.484
empty_weight						               = 4.769
visual							                   = dynamics\equipments\blue_box.ogf
inv_grid_width					                   = 2
inv_grid_height					                   = 2
inv_grid_x         				                   = 8
inv_grid_y         				                   = 58
max_uses								           = 8

repair_min_condition 			                   = 0.1	
repair_max_condition 			                   = 0.99		
repair_add_condition 			                   = 0.1		
repair_part_bonus	 			                   = 0.1		
repair_use_parts	 			                   = true	
repair_only				                           = outfit_exo
repair_parts_sections			                   = prt_i_scrap, swiss_knife, boots, rope, synthrope, prt_o_fabrics_1, prt_o_fabrics_3, prt_o_fabrics_4, af_kevlar, af_plates, csky_patch, dolg_patch, ecolog_patch, freedom_patch, stalker_patch, bandit_patch, monolith_patch, army_patch, killer_patch, renegade_patch, isg_patch, greh_patch, tarpaulin, beadspread
repair_use_actor_effects 		                   = true      
workshop_tool						 		       = true
workshop_support                                   = outfit_exo
tier                                               = 5


;;----==================================================================
;;----=====================| Part repair tools |=====================
;;----==================================================================

[rasp_tool]:tch_repair
visual					                           = dynamics\equipments\trade\parts.ogf
description				                           = st_rasp_tool_descr
inv_name				                           = st_rasp_tool
inv_name_short			                           = st_rasp_tool
inv_grid_width			                           = 1
inv_grid_height			                           = 3
inv_grid_x				                           = 2
inv_grid_y				                           = 51
cost					                           = 1800
inv_weight				                           = 0.35
empty_weight						         	   = 0.1
max_uses								     	   = 10
attach_angle_offset		                           = -0.287979, 1.560923, 1.544060
attach_position_offset		                       = 0.096910, -0.013594, 0.107925
attach_bone_name		                           = bip01_r_hand
auto_attach				                           = false

repair_min_condition 	                           = 0.06		
repair_max_condition 	                           = 0.99		
repair_add_condition 	                           = 0.25		
repair_part_bonus	 	                           = 0.05		
repair_use_parts	 	                           = true		
repair_only				                           = bolt_carrier, bolt, gas_tube, barrel
repair_parts_sections				               = kerosene, gun_oil
repair_parts_multi							       = 4
repair_use_actor_effects                           = true 
tier                                               = 3

[ramrod_tool]:tch_repair
visual					                           = dynamics\repair\ramrod_tool.ogf
description				                           = st_ramrod_tool_descr
inv_name				                           = st_ramrod_tool
inv_name_short			                           = st_ramrod_tool
inv_grid_width			                           = 1
inv_grid_height			                           = 2
inv_grid_x				                           = 3
inv_grid_y				                           = 52
cost					                           = 2300
inv_weight				                           = 0.3
empty_weight						         	   = 0.1
max_uses								     	   = 6
attach_angle_offset		                           = -0.287979, 1.560923, 1.544060
attach_position_offset		                       = 0.096910, -0.013594, 0.107925
attach_bone_name		                           = bip01_r_hand
auto_attach				                           = false

repair_min_condition 	                           = 0.10		
repair_max_condition 	                           = 0.99		
repair_add_condition 	                           = 0.25		
repair_part_bonus	 	                           = 0.05		
repair_use_parts	 	                           = true		
repair_only				                           = barrel, gas_tube
repair_parts_sections				               = explo_jerrycan_fuel, kerosene,  solvent
repair_parts_multi							       = 4
repair_use_actor_effects                           = true 
tier                                               = 3

[leatherman_tool]:identity_immunities
$spawn 					                           = "devices\roubles"
$prefetch 				                           = 16
class					                           = II_ATTCH
kind			                                   = i_tool
cform					                           = skeleton
visual					                           = dynamics\workshop_room\awr_leatherman.ogf
description				                           = st_leatherman_tool_descr
inv_name				                           = st_leatherman_tool
inv_name_short			                           = st_leatherman_tool
inv_grid_width			                           = 1
inv_grid_height			                           = 2
inv_grid_x				                           = 4
inv_grid_y				                           = 52
upgr_icon_path								       = ui\actor_items\ui_actor_items_1
upgr_icon_x								 	       = 600
upgr_icon_y								 	       = 300
upgr_icon_width						 	 	       = 150
upgr_icon_height						 	       = 100
cost					                           = 4000
inv_weight				                           = 0.4
attach_angle_offset		                           = -0.287979, 1.560923, 1.544060
attach_position_offset		                       = 0.096910, -0.013594, 0.107925
attach_bone_name		                           = bip01_r_hand
script_binding                                     = bind_item.bind
auto_attach				                           = false
use_condition                                      = true
allow_repair                                       = true

use1_functor         							   = item_repair.menu_tool
use1_action_functor  							   = item_repair.func_tool
use1_allow_db         					           = true

disassemble_tool                                   = true
degradation_factor						           = 0.025

repair_tool                                        = true
repair_type 								       = knife
repair_min_condition 	                           = 0.10
repair_max_condition 	                           = 0.99
repair_add_condition 	                           = 0.25
repair_part_bonus	 	                           = 0.06
repair_use_parts	 	                           = true
repair_only				                           = trigger_components, spring
repair_parts_sections                              = explo_jerrycan_fuel, kerosene,  gun_oil
repair_parts_multi							       = 4
repair_use_actor_effects                           = true
tier                                               = 4

[sewing_thread]:tch_repair
visual					                           = dynamics\repair\steel_wool.ogf
description				                           = st_sewing_thread_descr
inv_name				                           = st_sewing_thread
inv_name_short			                           = st_sewing_thread
inv_grid_width			                           = 1
inv_grid_height			                           = 1
inv_grid_x				                           = 0
inv_grid_y				                           = 53
upgr_icon_path								       = ui\actor_items\ui_actor_items_1
upgr_icon_x								 	       = 600
upgr_icon_y								 	       = 0
upgr_icon_width						 	 	       = 100
upgr_icon_height						 	       = 100
cost					                           = 600
inv_weight				                           = 0.01
max_uses								     	   = 4
attach_angle_offset		                           = -0.287979, 1.560923, 1.544060
attach_position_offset		                       = 0.096910, -0.013594, 0.107925
attach_bone_name		                           = bip01_r_hand
auto_attach				                           = false
allow_repair                                       = true

repair_min_condition 	                           = 0.10		
repair_max_condition 	                           = 0.99		
repair_add_condition 	                           = 0.25		
repair_part_bonus	 	                           = 0.03		
repair_use_parts	 	                           = true		
repair_only				                           = fabrics
repair_parts_sections                              = 
repair_parts_match							       = true
repair_use_actor_effects                           = true    
tier                                               = 2

[heavy_sewing_thread]:tch_repair
visual					                           = dynamics\repair\sewing_kit_a.ogf
description				                           = st_heavy_sewing_thread_descr
inv_name				                           = st_heavy_sewing_thread
inv_name_short			                           = st_heavy_sewing_thread
inv_grid_width			                           = 1
inv_grid_height			                           = 2
inv_grid_x				                           = 1
inv_grid_y				                           = 52
upgr_icon_path								       = ui\actor_items\ui_actor_items_1
upgr_icon_x								 	       = 400
upgr_icon_y								 	       = 1850
upgr_icon_width						 	 	       = 150
upgr_icon_height						 	       = 100
cost					                           = 2100
inv_weight				                           = 0.4
max_uses								     	   = 6
attach_angle_offset		                           = -0.287979, 1.560923, 1.544060
attach_position_offset		                       = 0.096910, -0.013594, 0.107925
attach_bone_name		                           = bip01_r_hand
auto_attach				                           = false
allow_repair                                       = true

repair_min_condition 	                           = 0.10		
repair_max_condition 	                           = 0.99		
repair_add_condition 	                           = 0.25		
repair_part_bonus	 	                           = 0.05	
repair_use_parts	 	                           = true		
repair_only				                           = ballistic, retardants
repair_parts_sections                              = 
repair_parts_match							       = true
repair_use_actor_effects                           = true  

workshop_tool						 		       = false   
;workshop_support                                   = outfit_novice
tier                                               = 3